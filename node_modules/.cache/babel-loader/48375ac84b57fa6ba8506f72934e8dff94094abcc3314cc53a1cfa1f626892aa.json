{"ast":null,"code":"import { withAsyncContext as _withAsyncContext } from 'vue';\nimport { ref, watch } from 'vue';\n//const posts = ref([]);\n\nimport { postsCategorie } from '../models/categories.js';\nimport { useRoute } from 'vue-router';\nexport default {\n  __name: 'CategorieView',\n  async setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    let __temp, __restore;\n    const route = useRoute();\n    const id = route.params.id;\n    const arrayPostCategories = ref([]);\n    arrayPostCategories.value = ([__temp, __restore] = _withAsyncContext(() => postsCategorie(id)), __temp = await __temp, __restore(), __temp);\n    arrayPostCategories.value.forEach((categorie, index) => {\n      categorie.id = index;\n    });\n    watch(() => route.params.id,\n    // en attente de la modification de l'ID\n    newId => {\n      arrayPostCategories.value = postsCategorie(newId);\n      console.log(arrayPostCategories);\n      arrayPostCategories.value.forEach((categorie, index) => {\n        categorie.id = index;\n      });\n    });\n    //const data = await response.json();  \n\n    const __returned__ = {\n      route,\n      id,\n      arrayPostCategories,\n      ref,\n      watch,\n      get postsCategorie() {\n        return postsCategorie;\n      },\n      get useRoute() {\n        return useRoute;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","postsCategorie","useRoute","route","id","params","arrayPostCategories","value","__temp","__restore","_withAsyncContext","forEach","categorie","index","newId","console","log"],"sources":["C:/Users/jfrey/Dropbox/cours/_webdev/code/semaine 4/lundi/website-practice/src/views/CategorieView.vue"],"sourcesContent":["<template>\r\n    <div class=\"home\">\r\n     \r\n            \r\n            <v-card v-for=\"categorie in arrayPostCategories\" :key=\"categorie.id\" class=\"w-50 pa-4\">   \r\n\r\n                \r\n                <v-img\r\n                max-height=\"200px\"\r\n                width=\"300px\"\r\n                :src=\"`${categorie.Image}`\"\r\n               \r\n                cover\r\n                ></v-img>\r\n                \r\n                <v-card-title>{{ categorie.Titre }}</v-card-title>\r\n                <v-card-text>{{ categorie.Description }}</v-card-text>\r\n                <v-card-actions>\r\n                    <v-btn\r\n                        color=\"orange-lighten-2\"\r\n                        text = \"Lire l'article\"\r\n                        :to=\"{ name: 'CategoriePostView',params: { id: categorie.id ,cat:id} }\"\r\n                    ></v-btn> \r\n                </v-card-actions>\r\n            </v-card>\r\n     \r\n\r\n    </div>\r\n</template>\r\n<script setup>\r\n   \r\n   \r\n  import { ref,watch } from 'vue';\r\n  //const posts = ref([]);\r\n\r\n  import {postsCategorie } from '../models/categories.js';\r\n\r\n  import {useRoute } from 'vue-router';\r\n\r\n  const route = useRoute();\r\n  const id=route.params.id;\r\n\r\n\r\n  const arrayPostCategories = ref([]);\r\n\r\n  arrayPostCategories.value = await postsCategorie(id);\r\n  arrayPostCategories.value.forEach((categorie,index)=>{\r\n      categorie.id=index;\r\n\r\n  })\r\n\r\n\r\n  watch(() => route.params.id, // en attente de la modification de l'ID\r\n  (newId) => {\r\n    arrayPostCategories.value =  postsCategorie(newId);\r\n    console.log(arrayPostCategories);\r\n    arrayPostCategories.value.forEach((categorie,index)=>{\r\n      categorie.id=index;\r\n\r\n  })\r\n  }\r\n  )\r\n  //const data = await response.json();  \r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n     \r\n\r\n\r\n</script>"],"mappings":";AAgCE,SAASA,GAAG,EAACC,KAAK,QAAQ,KAAK;AAC/B;;AAEA,SAAQC,cAAc,QAAQ,yBAAyB;AAEvD,SAAQC,QAAQ,QAAQ,YAAY;;;;;;;;IAEpC,MAAMC,KAAK,GAAGD,QAAQ,CAAC,CAAC;IACxB,MAAME,EAAE,GAACD,KAAK,CAACE,MAAM,CAACD,EAAE;IAGxB,MAAME,mBAAmB,GAAGP,GAAG,CAAC,EAAE,CAAC;IAEnCO,mBAAmB,CAACC,KAAK,IAAG,CAAAC,MAAA,EAAAC,SAAA,IAAAC,iBAAA,OAAMT,cAAc,CAACG,EAAE,I,2CAAC;IACpDE,mBAAmB,CAACC,KAAK,CAACI,OAAO,CAAC,CAACC,SAAS,EAACC,KAAK,KAAG;MACjDD,SAAS,CAACR,EAAE,GAACS,KAAK;IAEtB,CAAC,CAAC;IAGFb,KAAK,CAAC,MAAMG,KAAK,CAACE,MAAM,CAACD,EAAE;IAAE;IAC5BU,KAAK,IAAK;MACTR,mBAAmB,CAACC,KAAK,GAAIN,cAAc,CAACa,KAAK,CAAC;MAClDC,OAAO,CAACC,GAAG,CAACV,mBAAmB,CAAC;MAChCA,mBAAmB,CAACC,KAAK,CAACI,OAAO,CAAC,CAACC,SAAS,EAACC,KAAK,KAAG;QACnDD,SAAS,CAACR,EAAE,GAACS,KAAK;MAEtB,CAAC,CAAC;IACF,CACA,CAAC;IACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}