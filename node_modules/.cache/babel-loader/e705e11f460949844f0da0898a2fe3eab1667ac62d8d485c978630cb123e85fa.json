{"ast":null,"code":"import { onMounted } from 'vue';\nimport { usePostStore } from '@/stores/post';\nimport { useTopicStore } from '@/stores/topic';\nexport default {\n  __name: 'HomeView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const topicStore = useTopicStore();\n    const fetchTopicsPosts = async () => {\n      await topicStore.fetchTopics();\n    };\n    const postStore = usePostStore();\n    const fetchPosts = async () => {\n      await postStore.fetchPosts();\n    };\n    onMounted(async () => {\n      await fetchTopicsPosts();\n      await fetchPosts();\n    });\n    const __returned__ = {\n      topicStore,\n      fetchTopicsPosts,\n      postStore,\n      fetchPosts,\n      onMounted,\n      get usePostStore() {\n        return usePostStore;\n      },\n      get useTopicStore() {\n        return useTopicStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","usePostStore","useTopicStore","topicStore","fetchTopicsPosts","fetchTopics","postStore","fetchPosts"],"sources":["C:/Users/jfrey/Dropbox/cours/_webdev/code/semaine 4/lundi/website-practice/src/views/HomeView.vue"],"sourcesContent":["<template>\r\n    <div class=\"home\">\r\n        <h1 class=\"ma-2\">Home</h1>\r\n        <v-row class=\"-flex justify-center\">\r\n            \r\n            <v-card v-for=\"(post,index) in postStore.formattedPosts\" :key=\"index\" \r\n\r\n                class=\"w-33 pa-4 ma-2 \"\r\n                :color=\"postStore.colorPost(post.topic)\"\r\n                >\r\n                <v-card-title class=\"text-uppercase\">{{ post.topicText}}</v-card-title>\r\n                <v-img\r\n                max-height=\"200px\"\r\n                width=\"300px\"\r\n                :src=\"post.image\"\r\n               \r\n                cover\r\n                ></v-img>\r\n             \r\n                <v-card-title>{{ post.title }}</v-card-title>\r\n                \r\n                \r\n                <v-card-text>{{ post.body }}</v-card-text>\r\n                <v-card-actions>\r\n                    <v-btn\r\n                        color=\"orange-darken-4\"\r\n                        text = \"Lire l'article\"\r\n                        :to=\"{ name: 'post',params: { id: post.id } }\"\r\n                    ></v-btn> \r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-row>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\n\r\n    import { onMounted } from 'vue';\r\n    import { usePostStore } from '@/stores/post';    \r\n    import { useTopicStore } from '@/stores/topic';    \r\n    \r\n  \r\n    const topicStore = useTopicStore();\r\n\r\n    const fetchTopicsPosts = async () =>{\r\n        await topicStore.fetchTopics();\r\n    } \r\n   \r\n    \r\n    const postStore = usePostStore();\r\n\r\n\r\n    const fetchPosts = async () =>{\r\n        await postStore.fetchPosts();\r\n    } \r\n\r\n    onMounted( async() => {\r\n      \r\n        await fetchTopicsPosts();\r\n        await fetchPosts();\r\n    });\r\n\r\n\r\n</script>"],"mappings":"AAqCI,SAASA,SAAS,QAAQ,KAAK;AAC/B,SAASC,YAAY,QAAQ,eAAe;AAC5C,SAASC,aAAa,QAAQ,gBAAgB;;;;;;;IAG9C,MAAMC,UAAU,GAAGD,aAAa,CAAC,CAAC;IAElC,MAAME,gBAAgB,GAAG,MAAAA,CAAA,KAAW;MAChC,MAAMD,UAAU,CAACE,WAAW,CAAC,CAAC;IAClC,CAAC;IAGD,MAAMC,SAAS,GAAGL,YAAY,CAAC,CAAC;IAGhC,MAAMM,UAAU,GAAG,MAAAA,CAAA,KAAW;MAC1B,MAAMD,SAAS,CAACC,UAAU,CAAC,CAAC;IAChC,CAAC;IAEDP,SAAS,CAAE,YAAW;MAElB,MAAMI,gBAAgB,CAAC,CAAC;MACxB,MAAMG,UAAU,CAAC,CAAC;IACtB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}